@use "@/utils/variables" as *;
@use "@/utils/functions" as *;
@use "@/utils/breakpoints" as *;

.container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: rem(16);
  width: rem(1060);
  height: fit-content;

  .content {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    // gap: rem(16);
    width: rem(1060);
    // padding: 0 rem(64);

    margin-top: rem(48);
    margin-left: rem(48);
    // background-color: green;

    .fileContainer {
      position: relative;
      width: rem(248);
      height: fit-content;
      margin-right: rem(16);
      margin-bottom: rem(16);
      scroll-snap-align: start;
      transition: transform 0.3s ease-in-out;
      border-radius: rem(20);
      cursor: grab;
      // box-shadow: $shadow-one;
      transition: transform 0.2s;

      touch-action: none; // Prevent conflicting touch events
      user-select: none; // Prevent text selection during drag

      &.dragging {
        opacity: 0.5;
        // transform: scale(0.95);
        cursor: grabbing;
      }

      &.dragOver {
        border: 2px dashed $grey-two;
      }

      &:hover {
        cursor: grab;
        border: 1px dashed $primary-hover;
        &:active {
          cursor: grabbing;
        }
      }

      .deleteButtonContainer {
        position: absolute;
        top: rem(4);
        right: rem(6);
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: $white-one;
        width: rem(28);
        height: rem(28);
        border-radius: 50%;
        pointer-events: none; // Make delete button non-interactive during drag
        pointer-events: auto !important; // Allow click interactions
        cursor: pointer; // Show proper cursor
        z-index: 3;

        &:hover {
          background-color: $white-three;
        }

        // Prevent any drag behavior on the button itself
        * {
          pointer-events: none;
        }
        .deleteButton {
        }
      }

      .imageWrapper {
        position: relative;
        display: inline-block;
      }

      .imageNumber {
        position: absolute;
        top: rem(4);
        left: rem(6);
        background-color: rgba(0, 0, 0, 0.7);
        color: $white-four;
        width: rem(28);
        height: rem(28);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: rem(12);
        z-index: 2;
      }

      .image {
        border-radius: rem(20);
      }
    }
  }
}
